@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListModel>
@{
    if (Model?.Any() != true) { return; }
}
<div class="umb-block-list">
    @foreach (var block in Model)
    {
        if (block?.ContentKey == null) { continue; }
        var data = block.Content;
        var partialViewName = uTPro.Project.Web.Configure.CustomPathViews.GetPathViewBlockListPreview(data.ContentType.Alias, CurrentSite.GetItem().Root.Name);
        try
        {
            @await Html.PartialAsync(partialViewName, block)
        }
        catch (InvalidOperationException)
        {
            <p>
                <strong>Could not render component of type: @(data.ContentType.Alias)</strong>
                <br />
                This likely happened because the partial view <em>@partialViewName</em> could not be found.
            </p>
        }
    }
</div>
